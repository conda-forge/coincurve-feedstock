--- setup_support.py    2024-03-01 23:10:59.000000000 -0600
+++ setup_support.py    2024-03-03 10:28:59.492391934 -0600
@@ -43,12 +43,21 @@
     pkg_config_path = [path]
     if 'PKG_CONFIG_PATH' in os.environ:
         pkg_config_path.append(os.environ['PKG_CONFIG_PATH'])
+    if 'CONDA_PREFIX' in os.environ:
+        logging.info(f'   - CONDA_PREFIX:{os.environ['CONDA_PREFIX']}')
+        conda_pkg = os.pathjoin(os.environ['CONDA_PREFIX'], 'lib', 'pkgconfig')
+        pkg_config_path.append(conda_pkg)
+        conda_pkg = os.pathjoin(os.environ['CONDA_PREFIX'], 'lib64', 'pkgconfig')
+        pkg_config_path.append(conda_pkg)
+        conda_pkg = os.pathjoin(os.environ['CONDA_PREFIX'], 'Library', 'lib', 'pkgconfig')
+        pkg_config_path.append(conda_pkg)
     if 'LIB_DIR' in os.environ:
         pkg_config_path.append(os.environ['LIB_DIR'])
         pkg_config_path.append(os.path.join(os.environ['LIB_DIR'], 'pkgconfig'))

     options = {'I': '--cflags-only-I', 'L': '--libs-only-L', 'l': '--libs-only-l'}
-    env = dict(os.environ, PKG_CONFIG_PATH=':'.join(pkg_config_path))
+    env = dict(os.environ, PKG_CONFIG_PATH=str(os.pathsep).join(pkg_config_path))
+    logging.info(f'   - PKG_CONFIG_PATH:{str(os.pathsep).join(pkg_config_path)}')
     flags = subprocess.check_output(['pkg-config', '--static', options[type_], library], env=env)  # noqa S603
     flags = list(flags.decode('UTF-8').split())

@@ -86,6 +95,7 @@
     global _has_system_lib
     if _has_system_lib is None:
         _has_system_lib = _find_lib()
+    logging.info(f'   - SYSTEM LIB:{_has_system_lib}')
     return _has_system_lib


